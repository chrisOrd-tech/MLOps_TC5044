schema: '2.0'
stages:
  load_data:
    cmd: "export PYTHONPATH=$(pwd) && python src/stages/load_data.py --config=params.yaml\n"
    deps:
    - path: src/stages/load_data.py
      hash: md5
      md5: 4b0ae5f8dfdb8d2547754dbd4f371233
      size: 967
  featurize:
    cmd: python src/stages/feature_engineering.py --config=params.yaml
    deps:
    - path: data/raw/ckd-dataset-v2.csv
      hash: md5
      md5: 61ab026f595140bd37a11afd0cefc551
      size: 34154
    - path: src/stages/feature_engineering.py
      hash: md5
      md5: cc88c6fb673a0dbf7fb069386af48803
      size: 1417
    outs:
    - path: data/processed/preprocess_ckd_dataset_v2.csv
      hash: md5
      md5: c587e0a02c42199eb3234af9e94e27c0
      size: 17739
  data_split:
    cmd: python src/stages/data_split.py --config=params.yaml
    deps:
    - path: data/processed/preprocess_ckd_dataset_v2.csv
      hash: md5
      md5: c587e0a02c42199eb3234af9e94e27c0
      size: 17739
    - path: src/stages/data_split.py
      hash: md5
      md5: c2cd01cef6d3a568d8b45480679c578e
      size: 1131
    outs:
    - path: data/processed/test_ckd_dataset_v2.csv
      hash: md5
      md5: e3cf278c452e99e760294bc92646775a
      size: 3796
    - path: data/processed/train_ckd_dataset_v2.csv
      hash: md5
      md5: e4c2e012d31c089a2594fe3fdad5ab28
      size: 14772
  train:
    cmd: "export PYTHONPATH=$(pwd) && python src/stages/train.py --config=params.yaml\n"
    deps:
    - path: data/processed/train_X_ckd_dataset_v2.csv
      hash: md5
      md5: 6af8b3688ed3a730c075f539dfdf79b8
      size: 92198
    - path: data/processed/train_y_ckd_dataset_v2.csv
      hash: md5
      md5: ab8ec34bcafa3909b400ccd4ae7cff39
      size: 880
    - path: src/KidneyRiskModel/module.py
      hash: md5
      md5: 83e8ff7daa011d4f78393b830fc0476b
      size: 4865
    - path: src/stages/train.py
      hash: md5
      md5: b1c3b092de70a78ffa3a75e6703b337e
      size: 1189
    params:
      params.yaml:
        train.estimator_name: log_reg
    outs:
    - path: models/model_log_reg.pkl
      hash: md5
      md5: 93f0b512dd1e3095ddbbc3f83edf8bb6
      size: 1257
  evaluate:
    cmd: "export PYTHONPATH=$(pwd) && python src/stages/evaluate.py --config=params.yaml\n"
    deps:
    - path: data/processed/test_X_ckd_dataset_v2.csv
      hash: md5
      md5: 946a8a0628bfcf3db098cb03c27f236c
      size: 23092
    - path: data/processed/test_y_ckd_dataset_v2.csv
      hash: md5
      md5: 71fcecbf889c796503115d87c5567896
      size: 224
    - path: models/model_log_reg.pkl
      hash: md5
      md5: 93f0b512dd1e3095ddbbc3f83edf8bb6
      size: 1257
    - path: src/KidneyRiskModel/module.py
      hash: md5
      md5: 83e8ff7daa011d4f78393b830fc0476b
      size: 4865
    - path: src/stages/evaluate.py
      hash: md5
      md5: 62e92fd19f09fa6ad77a2aaf5123d721
      size: 1452
    params:
      params.yaml:
        train.estimator_name: log_reg
  preprocess:
    cmd: "export PYTHONPATH=$(pwd) && python src/stages/preprocess_data.py --config=params.yaml\n"
    deps:
    - path: data/processed/ckd_dataset_clean.csv
      hash: md5
      md5: dfcc45b21be7e5348a08e827214ba5a4
      size: 33930
    - path: src/stages/preprocess_data.py
      hash: md5
      md5: bfc3915906f6d9e66ced5395a05c8260
      size: 2134
    outs:
    - path: data/processed/test_X_ckd_dataset_v2.csv
      hash: md5
      md5: 946a8a0628bfcf3db098cb03c27f236c
      size: 23092
    - path: data/processed/test_y_ckd_dataset_v2.csv
      hash: md5
      md5: 71fcecbf889c796503115d87c5567896
      size: 224
    - path: data/processed/train_X_ckd_dataset_v2.csv
      hash: md5
      md5: 6af8b3688ed3a730c075f539dfdf79b8
      size: 92198
    - path: data/processed/train_y_ckd_dataset_v2.csv
      hash: md5
      md5: ab8ec34bcafa3909b400ccd4ae7cff39
      size: 880
